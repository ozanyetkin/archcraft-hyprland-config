# Copyright (C) 2020-2025 Aditya Shakya <adi1090x@gmail.com>
#
# Hyprland configuration : Hyprlock ------------------------
# Updated: responsive/text-only layout, ordinal date formatting, text actions

# Images and Colors
$wallpaper = /home/yetkin/.config/hyprcat/wallpapers/wallpaper.png
$profilepic = ~/.config/hyprcat/wallpapers/profile.jpg
$bg_color = rgba(0, 0, 0, 1.0)
$outer_color = rgba(205, 214, 244, 0.0)
$inner_color = rgba(205, 214, 244, 0.08)
$check_color = rgba(167, 227, 161, 1.0)
$fail_color = rgba(243, 139, 168, 1.0)
$label_color = rgba(205, 214, 244, 0.85)
$label_color_hex = ##CDD6F4D9

# General
general {
    hide_cursor = false
    ignore_empty_input = false
    immediate_render = false
    text_trim = true
    fractional_scaling = 2
    screencopy_mode = 0
    fail_timeout = 2000
}

# Authentication
auth {
    pam:enabled = true
    pam:module = hyprlock
    fingerprint:enabled = false
    fingerprint:ready_message = (Scan fingerprint to unlock)
    fingerprint:present_message = Scanning fingerprint
    fingerprint:retry_delay = 250
}

# Animations (kept subtle and fast)
animations {
    enabled = true
    animation = fadeIn,1,8
    animation = fadeOut,1,8
    animation = inputFieldColors,1,10
    animation = inputFieldFade,1,8
    animation = inputFieldWidth,1,10
    animation = inputFieldDots,1,8
}

# Background
background {
    monitor =
    path = $wallpaper
    color = $bg_color
    blur_passes = 2
    blur_size = 8
    noise = 0.0120
    contrast = 0.89
    brightness = 0.82
    vibrancy = 0.17
    vibrancy_darkness = 0.0
    reload_time = -1
    reload_cmd =
    crossfade_time = -1.0
    zindex = -1
}

# Profile image (smaller and centered for different resolutions)
image {
    monitor =
    path = $profilepic
    size = 120
    rounding = -1
    border_size = 0
    border_color = $label_color
    rotate = 0
    reload_time = -1
    reload_cmd =

    position = 0, 28
    halign = center
    valign = center
    zindex = 0

    shadow_passes = 3
    shadow_size = 6
    shadow_color = rgb(0, 0, 0)
    shadow_boost = 1.0
}

# Input-field
# Smaller and more neutral defaults so it scales more gracefully on small and large screens.
input-field {
    monitor =
    size = 320, 50
    outline_thickness = 2
    dots_size = 0.18
    dots_spacing = 0.2
    dots_center = true
    dots_rounding = -2
    dots_text_format =
    outer_color = $outer_color
    inner_color = $inner_color
    font_color = $label_color
    font_family = Iosevka Nerd Font
    fade_on_empty = false
    fade_timeout = 1000
    placeholder_text = <span foreground="$label_color_hex">type the secret</span>
    hide_input = false
    rounding = -1
    check_color = $check_color
    fail_color = $fail_color
    fail_text = <i>$FAIL <b>($ATTEMPTS)</b></i>
    capslock_color = -1
    numlock_color = -1
    bothlock_color = -1
    invert_numlock = false
    swap_font_color = false

    # Keep centered; vertical offset tuned to sit under image consistently across resolutions.
    position = 0, -190
    halign = center
    valign = center
    zindex = 0

    shadow_passes = 3
    shadow_size = 6
    shadow_color = rgb(0, 0, 0)
    shadow_boost = 1.0
}

# Word Clock (text-based)
label {
    monitor =
    text = cmd[update:1000] python3 /home/yetkin/Desktop/Projects/archcraft-hyprland-config/scripts/wordclock.py
    color = $label_color
    font_size = 40
    font_family = Iosevka Nerd Font
    position = 0, 260
    halign = center
    valign = center
}

# Date
# Uses a cumbersome but lightweight shell snippet to compute the ordinal suffix and print text style.
label {
    monitor =
    text = cmd[update:1000] bash -c 'd=$(date +%-d); words=(zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen twenty twenty-one twenty-two twenty-three twenty-four twenty-five twenty-six twenty-seven twenty-eight twenty-nine thirty thirty-one); day="${words[$d]}"; day="${day//-/ }"; day="${day^}"; printf "%s %s\n" "$(date +%B)" "$day"'
    color = $label_color
    font_size = 30
    font_family = Iosevka Nerd Font
    position = 0, 200
    halign = center
    valign = center
}

# Day (weekday)
label {
    monitor =
    text = cmd[update:1000] date +"%A"
    color = $label_color
    font_size = 22
    font_family = Iosevka Nerd Font
    position = 0, 150
    halign = center
    valign = center
}

# USER-BOX (subtle container behind the input)
shape {
    monitor =
    size = 340, 64
    color = $inner_color
    rounding = -1
    border_size = 0
    border_color = $outer_color
    rotate = 0
    xray = false

    position = 0, -120
    halign = center
    valign = center
}

# USER label
label {
    monitor =
    text = is that you?
    color = $label_color
    font_size = 14
    font_family = Iosevka Nerd Font
    position = 0, -120
    halign = center
    valign = center
}

# --- Actions (text-based, responsive-ish)
# Instead of absolute huge offsets (which break on different resolutions),
# use center alignment and modest horizontal offsets so items remain spaced proportionally.
# The labels are plain text actions and run the corresponding systemctl commands.

# Reboot (left)
label {
    monitor =
    text = Reboot
    color = $label_color
    font_family = Iosevka Nerd Font
    font_size = 14
    onclick = systemctl reboot
    position = -180, 90
    halign = center
    valign = bottom
}

# Suspend (center)
label {
    monitor =
    text = Suspend
    color = $label_color
    font_family = Iosevka Nerd Font
    font_size = 14
    onclick = systemctl suspend
    position = 0, 90
    halign = center
    valign = bottom
}

# Shutdown (right)
label {
    monitor =
    text = Shutdown
    color = $label_color
    font_family = Iosevka Nerd Font
    font_size = 14
    onclick = systemctl poweroff
    position = 180, 90
    halign = center
    valign = bottom
}
